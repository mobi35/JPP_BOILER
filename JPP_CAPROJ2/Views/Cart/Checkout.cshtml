@model IEnumerable<ProductCartViewModel>
@{
    ViewData["Title"] = "Privacy Policy";
    Layout = "Client";
}
<form method="post" asp-action="Checkout" asp-controller="Cart">
    <section id="main-content">
        <div class="wrapper">
            <div class="row mt">
                <div class="col-lg-8">
                    <div class="form-panel">
                        <h1>Checkout Page</h1>


                        <input id="cod" value="cod" name="paytype" type="radio" /> COD
                        <input id="bank" value="bank" name="paytype" type="radio" />  Bank Deposit
                        <div id="step1">


                            <br />
                            <div id="COD">

                            </div>

                            <div id="BankAccount">
                                <br />
                                <input type="hidden" id="bid" value="0" placeholder="Bank Account" class="form-control" name="bankNumer" /><br />
                                <input type="hidden" id="bnum" value="0" placeholder="Bank Account Number" class="form-control" name="bankAccount" />
                            </div>

                            <a href="#" id="nextStep">Next Step</a>

                        </div>

                        <div id="step2">
                            <h3>Are you sure you want to do this transaction ?</h3>

                            <br />

                            <div  id="showPayment">

                            </div>
                            <a href="#" id="previousStep">Previous Step</a>
                            <button onclick="return Validate()">Confirm Checkout</button>
                        </div>



                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="form-panel">
                        <table class="table table-striped table-bordered responsive no-wrap" style="width:100%" id="userList">
                            <thead>
                                <tr>
                                    <th>Product Name</th>
                                    <th>Quantity</th>
                                    <th>Price</th>
                                </tr>
                            </thead>
                            <tbody>
                                @{
                                    double? totalPrice = 0;
                                    foreach (var product in Model)
                                    {
                                        totalPrice += product.Cart.Quantity * product.Product.Price;
                                                <tr>
                                                    <td>@product.Product.ProductName</td>

                                                    <td>@product.Cart.Quantity</td>

                                                    <td>@product.Product.Price.ToString("N")</td>
                                                    <td><a return="confirm('are you sure you want to delete?')" asp-route-id="@product.Cart.CartKey" asp-controller="Cart" asp-action="RemoveItemCart">Remove</a>  </td>
                                                </tr>
                                    }
                                }
                            </tbody>
                        </table>
                        <p>Total : P @totalPrice.Value.ToString("N") </p>
                    </div>
                </div>


            </div>
        </div>

    </section>
</form>
<br />
<br />

<script>

    function Validate() {
        var bankcheck = document.getElementById("bank");

        if (bankcheck.checked) {
            if ($('#bid').val() == "" || $('#bnum').val() == "") { 
                alert("Please put details");
                return false;
             }
        }
    }


    var paymentType = "";
    $('#step2').hide();
    $('#step1').hide();
    $('#nextStep').click(function () {

        $('#step1').hide();
        $(' #step2').show();

        if (paymentType == "bank") {
          
        } else {
            $('#showPayment').html('<h2>Cash on delivery</h2>');
        }
    });
    $('#previousStep').click(function () {
        $('#step2').hide();
        $('#step1').show();

    });



    $('#BankAccount').hide();
    $('#COD').hide();

    function MyFunction() {
        alert("asdasd");
    }

    $('#bank').click(function () {
        paymentType = "bank";

        $('#BankAccount').show();
        $('#COD').hide();
        $('#step1').show();


        $('#step2').hide();
        $(' #step1').show();
    })

    $('#cod').click(function () {
        paymentType = "cod";
        $('#bid').val('');
        $('#bnum').val(''); 
        $('#step1').show();
        $('#COD').show();
        $('#BankAccount').hide();

        $('#step2').hide();
        $(' #step1').show();
    })

</script>
